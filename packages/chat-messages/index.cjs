"use strict";var EventType,EventType;Object.defineProperty(exports,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(exports,{EventType:function(){return EventType},createChat:function(){return createChat},createEvent:function(){return createEvent},createMessage:function(){return createMessage},createUser:function(){return createUser},serializeMessage:function(){return serializeMessage},deserializeChat:function(){return deserializeChat},deserializeEvent:function(){return deserializeEvent},deserializeMessage:function(){return deserializeMessage},deserializeUser:function(){return deserializeUser},Chat:function(){return _chat_pb.Chat},ChatEvent:function(){return _chat_pb.Event},Message:function(){return _chat_pb.Message},User:function(){return _chat_pb.User}});const _timestamp_pb=require("google-protobuf/google/protobuf/timestamp_pb"),_chat_pb=require("./generated/chat_pb");function createChat(e){let{messagesList:t}=e,r=new _chat_pb.Chat;return t&&r.setMessagesList(t),r}function createEvent(e){let{type:t,message:r,actingUser:n,metadataMap:a}=e,i=new _chat_pb.Event;if(t&&i.setType(t===EventType.EDIT?_chat_pb.Event.Type.EDIT:t===EventType.MESSAGE?_chat_pb.Event.Type.MESSAGE:t===EventType.REACT?_chat_pb.Event.Type.REACT:t===EventType.TYPING?_chat_pb.Event.Type.TYPING:_chat_pb.Event.Type.EVENT_TYPE_UNSPECIFIED),r&&i.setMessage(r),n&&i.setActingUser(n),a)for(let[e,t]of a)i.getMetadataMap().set(e,t);return i}function createMessage({author:e,content:t,replyFrom:r,createdAt:n,editedAt:a}){let i=new _chat_pb.Message;return e&&i.setAuthor(e),t&&i.setContent(t),r&&i.setReplyFrom(r),n&&i.setCreatedAt(_timestamp_pb.Timestamp.fromDate(n)),a&&i.setEditedAt(_timestamp_pb.Timestamp.fromDate(a)),i}function createUser({username:e,avatar:t}){let r=new _chat_pb.User;return e&&r.setUsername(e),t&&r.setAvatar(t),r}function serializeMessage(e){let t=e.serializeBinary();return t.toString()}function deserializeChat(e){let t=e.split(",").map(e=>+e);return _chat_pb.Chat.deserializeBinary(Uint8Array.from(t))}function deserializeEvent(e){let t=e.split(",").map(e=>+e);return _chat_pb.Event.deserializeBinary(Uint8Array.from(t))}function deserializeMessage(e){let t=e.split(",").map(e=>+e);return _chat_pb.Message.deserializeBinary(Uint8Array.from(t))}function deserializeUser(e){let t=e.split(",").map(e=>+e);return _chat_pb.User.deserializeBinary(Uint8Array.from(t))}(EventType=EventType||(EventType={}))[EventType.REACT=1]="REACT",EventType[EventType.MESSAGE=2]="MESSAGE",EventType[EventType.EDIT=3]="EDIT",EventType[EventType.TYPING=4]="TYPING";
